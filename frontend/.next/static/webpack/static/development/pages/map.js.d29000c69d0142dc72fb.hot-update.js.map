{"version":3,"file":"static/webpack/static/development/pages/map.js.d29000c69d0142dc72fb.hot-update.js","sources":["webpack:///./components/Tour/index.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport Map from \"../Map\";\nimport VR from \"../VR\";\nimport {\n  DropdownContainer,\n  FloorNav,\n  TourContainer,\n  MapContainer,\n  MapButton\n} from \"./style\";\n\nexport default class Tour extends Component {\n  // Set initial state with currentScene (defin), mapOpened\n  /*-----------------------------------------------\n      currentScence : define current scene, is set to A wing, 2 floor, Front Entrance\n      mapOpened: define if map view is opened ot not\n     -----------------------------------------------*/\n\n  state = {\n    currentScene: { sceneID: \"A_WING_2_FRONT_ENTRANCE\", wing: \"A\", floor: \"1\" },\n    mapOpened: false\n  };\n\n  // This function is passed to the maps to handle scene change (background image)\n  /*-----------------------------------------------\n      This function receive a new string with a new scene ID and set it to the state\n     -----------------------------------------------*/\n\n  handleSceneChange = newSceneID => {\n    this.setState(prevState => ({\n      ...this.prevState,\n      currentScene: { ...this.prevState.currentScene, sceneID: newSceneID }\n    }));\n  };\n\n  // This function handle the map change when the user change the floor.\n  /*-----------------------------------------------\n      This function receive the event from a click in the map option\n      and get the dataset from the element to set a new state in this component.\n     -----------------------------------------------*/\n\n  handleWingChange = e => {\n    const { wing, floor } = e.target.dataset;\n    this.setState(prevState => ({\n      ...prevState,\n      currentScene: { wing, floor }\n    }));\n  };\n\n  render() {\n    return (\n      <TourContainer>\n        {/* Map Button */}\n        <MapButton\n          onClick={() => this.setState({ mapOpened: !this.state.mapOpened })}\n          size={this.state.mapOpened}\n        >\n          <i class=\"fas fa-map-marked-alt\" />\n        </MapButton>\n        {/* Map */}\n        <MapContainer opened={this.state.mapOpened}>\n          <FloorNav opened={this.state.floorOpened}>\n            <p className=\"text-center\">Select a wing and a floor:</p>\n            <DropdownContainer className=\"wings\">\n              <div className=\"dropdown\">\n                <div\n                  className=\"dropdown-toggle\"\n                  id=\"dropdownMenuButton\"\n                  data-toggle=\"dropdown\"\n                  aria-haspopup=\"true\"\n                  aria-expanded=\"false\"\n                >\n                  A Wing\n                </div>\n                <div\n                  className=\"dropdown-menu\"\n                  aria-labelledby=\"dropdownMenuButton\"\n                >\n                  <a\n                    className=\"dropdown-item\"\n                    data-wing=\"A\"\n                    data-floor=\"1\"\n                    onClick={this.handleWingChange}\n                  >\n                    1st Floor\n                  </a>\n                  <a\n                    className=\"dropdown-item\"\n                    data-wing=\"A\"\n                    data-floor=\"2\"\n                    onClick={this.handleWingChange}\n                  >\n                    2st Floor\n                  </a>\n                </div>\n              </div>\n              <div className=\"dropdown\">\n                <div\n                  className=\"dropdown-toggle\"\n                  id=\"dropdownMenuButton\"\n                  data-toggle=\"dropdown\"\n                  aria-haspopup=\"true\"\n                  aria-expanded=\"false\"\n                >\n                  B Wing\n                </div>\n                <div\n                  className=\"dropdown-menu\"\n                  aria-labelledby=\"dropdownMenuButton\"\n                >\n                  <a\n                    className=\"dropdown-item\"\n                    data-wing=\"B\"\n                    data-floor=\"1\"\n                    onClick={this.handleWingChange}\n                  >\n                    1st Floor\n                  </a>\n                  <a\n                    className=\"dropdown-item\"\n                    data-wing=\"B\"\n                    data-floor=\"2\"\n                    onClick={this.handleWingChange}\n                  >\n                    2st Floor\n                  </a>\n                </div>\n              </div>\n              <div className=\"dropdown\">\n                <div\n                  className=\"dropdown-toggle\"\n                  id=\"dropdownMenuButton\"\n                  data-toggle=\"dropdown\"\n                  aria-haspopup=\"true\"\n                  aria-expanded=\"false\"\n                >\n                  C Wing\n                </div>\n                <div\n                  className=\"dropdown-menu\"\n                  aria-labelledby=\"dropdownMenuButton\"\n                >\n                  <a\n                    className=\"dropdown-item\"\n                    data-wing=\"C\"\n                    data-floor=\"1\"\n                    onClick={this.handleWingChange}\n                  >\n                    1st Floor\n                  </a>\n                  <a\n                    className=\"dropdown-item\"\n                    data-wing=\"C\"\n                    data-floor=\"2\"\n                    onClick={this.handleWingChange}\n                  >\n                    2st Floor\n                  </a>\n                  <a\n                    className=\"dropdown-item\"\n                    data-wing=\"C\"\n                    data-floor=\"3\"\n                    onClick={this.handleWingChange}\n                  >\n                    3st Floor\n                  </a>\n                </div>\n              </div>\n              <div className=\"dropdown\">\n                <div\n                  className=\"dropdown-toggle\"\n                  id=\"dropdownMenuButton\"\n                  data-toggle=\"dropdown\"\n                  aria-haspopup=\"true\"\n                  aria-expanded=\"false\"\n                >\n                  D Wing\n                </div>\n                <div\n                  className=\"dropdown-menu\"\n                  aria-labelledby=\"dropdownMenuButton\"\n                >\n                  <a\n                    className=\"dropdown-item\"\n                    data-wing=\"D\"\n                    data-floor=\"1\"\n                    onClick={this.handleWingChange}\n                  >\n                    1st Floor\n                  </a>\n                  <a\n                    className=\"dropdown-item\"\n                    data-wing=\"D\"\n                    data-floor=\"2\"\n                    onClick={this.handleWingChange}\n                  >\n                    2st Floor\n                  </a>\n                  <a\n                    className=\"dropdown-item\"\n                    data-wing=\"D\"\n                    data-floor=\"3\"\n                    onClick={this.handleWingChange}\n                  >\n                    3st Floor\n                  </a>\n                </div>\n              </div>\n            </DropdownContainer>\n          </FloorNav>\n          <Map\n            scene={this.state.currentScene} // Pass the state to map so map component can render the proper scene\n            handleSceneChange={this.handleSceneChange} //Pass the function handleSceneChange to map so when scene is selected the state is updated\n          />\n        </MapContainer>\n\n        {/* React 360 iframe   */}\n        <VR\n          scene={this.state.currentScene} // Pass the state to VR so the component can render the proper scene\n        />\n      </TourContainer>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAOA;;;;;;;;;;;;;;;;;;AAOA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAFA;AACA;AASA;AACA;AAAA;AAEA;AAAA;AAAA;AAFA;AAAA;AAIA;AACA;AAOA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAFA;AAAA;AAIA;AACA;;;;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AADA;AAEA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AAnNA;AACA;;;;;A","sourceRoot":""}